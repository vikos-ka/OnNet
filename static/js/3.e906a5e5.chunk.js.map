{"version":3,"sources":["hoc/withAuthRedirect.js","assets/img/user.png","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatuswithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","authReducer","withAuthRedirect","Component","connect","props","to","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","Post","className","style","post","postAndAuthor","postAuthor","src","postText","message","likeComment","class","like","comment","maxLength10","maxLengthcreator","AddNewPostFormRedux","reduxForm","form","newPost","id","postBox","alt","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","placeholder","liItems","btn","type","MyPosts","React","memo","postsItems","posts","map","key","reverse","values","addPost","newPostText","MyPostsContainer","profilePage","dispatch","action","addPostActionCreator","ProfileStatuswithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","profile__status","onDoubleClick","profile__statusEdit","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","user","user__name","your__page","user__photo","photos","large","Profile","store","ProfileContainer","userId","this","match","params","authorisedUserId","history","getUserProfileThunk","getStatusThunk","updateStatusThunk","compose","withRouter"],"mappings":"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","file":"static/js/3.e906a5e5.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to={'/login'} />;\r\n        return <Component {...props}/>\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","module.exports = __webpack_public_path__ + \"static/media/user.a9210b59.png\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__w8uGf\",\"widget__title\":\"ProfileInfo_widget__title__18uH7\",\"page-meta\":\"ProfileInfo_page-meta__1kyCY\",\"user__photo\":\"ProfileInfo_user__photo__2Y2h7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover\":\"Profile_cover__3DZr0\",\"profile\":\"Profile_profile__2uWf3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__content\":\"MyPosts_main__content__3O7Jp\",\"cover\":\"MyPosts_cover__1aF2Y\",\"posts\":\"MyPosts_posts__4YFbX\",\"newPost\":\"MyPosts_newPost__1Ehw-\",\"postBox\":\"MyPosts_postBox__3zETE\",\"previewBtn\":\"MyPosts_previewBtn__OWiq9\",\"btn\":\"MyPosts_btn__hJGBb\",\"preview\":\"MyPosts_preview__1l45m\",\"liItems\":\"MyPosts_liItems__1dK26\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__NWA0i\",\"postAndAuthor\":\"Post_postAndAuthor__2AnVp\",\"postAuthor\":\"Post_postAuthor__2_Gdp\",\"postText\":\"Post_postText__2pUKE\",\"likeComment\":\"Post_likeComment__2iXbK\"};","import React from 'react';\r\nimport style from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n    \r\n    return(\r\n\r\n    \r\n        <div className= {style.post}>\r\n            <div className = {style.postAndAuthor}>\r\n                <img className = {style.postAuthor} src = \"https://via.placeholder.com/80\" />\r\n                <p className = {style.postText}> {props.message} </p>\r\n            </div>\r\n            <div className = {style.likeComment}>\r\n                <span><i class=\"fas fa-heart\"></i> { props.like}</span>\r\n                <span><i class=\"fas fa-comment-dots\"></i> { props.comment}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post.jsx';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {required, maxLengthcreator} from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/Forms';\r\n\r\nconst maxLength10 = maxLengthcreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <div className={style.newPost}>\r\n                <span id=\"createPost\">Create Post</span>\r\n                <div className= {style.postBox}>\r\n                    <figure>\r\n\t\t\t\t\t\t<img src=\"https://via.placeholder.com/50\" alt=\"admin\" />\r\n\t\t\t\t\t</figure>\r\n                    <form onSubmit = {props.handleSubmit}>\r\n\t\t\t            <Field component = {Textarea} name =\"newPostText\" validate = {[required, maxLength10]} placeholder=\"Share some what you are thinking?\" />\r\n                <ul>\r\n                    <li className = {style.liItems}>\r\n                        <li>\r\n\t\t\t\t\t\t<i className=\"fa fa-map-marker\" />\r\n\t\t\t\t\t    </li>\r\n\t\t\t\t\t    <li>\r\n\t\t\t\t\t\t    <i className=\"fa fa-music\" />\r\n\t\t\t\t\t    </li>\r\n\t\t\t\t\t    <li>\r\n\t\t\t\t\t\t    <i className=\"fa fa-image\" />\r\n\t\t\t\t\t    </li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t    <i className=\"fa fa-video-camera\" />\r\n\t\t\t\t\t    </li>\r\n\t\t\t\t\t    <li>\r\n\t\t\t\t\t\t    <i className=\"fa fa-camera\" />\r\n\t\t\t\t\t    </li>\r\n                    </li>\r\n\t\t\t\t\t\r\n\t\t\t\t</ul>\r\n                <button id = {style.btn} type = \"submit\">Post</button>\r\n                </form></div>\r\n         </div>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    const postsItems = props.posts.map( post => \r\n                        <Post \r\n                            id = {post.id} \r\n                            message = {post.message} \r\n                            like = {post.like} \r\n                            comment = {post.comment}\r\n                            key = {post.id} \r\n                        />).reverse();\r\n\r\n    const onAddPost = (values) => {  \r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return(\r\n        <div className ={style.posts}>\r\n            <AddNewPostFormRedux onSubmit = {onAddPost}/>\r\n        <div className = {style.posts}>\r\n            {postsItems}\r\n\r\n        </div>\r\n        </div>    \r\n    );\r\n})\r\n\r\nexport default MyPosts;","import MyPosts from './MyPosts'\r\nimport { addPostActionCreator} from '../../../redux/profileReducer'\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }  \r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            const action = addPostActionCreator(newPostText);\r\n            dispatch(action)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport style from './ProfileInfo.module.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\n\r\nconst ProfileStatuswithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEdit = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deActivateEdit = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n         <> \r\n             {!editMode && \r\n                 <div className = {style.profile__status }>\r\n                    <span onDoubleClick = {activateEdit}>{props.status \r\n                    || 'No status'}</span>\r\n                 </div>\r\n                }\r\n            {editMode && \r\n                <div className = {style.profile__statusEdit }> \r\n                    <input onChange = {onStatusChange} onBlur = {deActivateEdit} autoFocus = {true} type=\"text\"\r\n                    value = {status} />\r\n                 </div>\r\n                }\r\n            </>\r\n        );\r\n}\r\n\r\nexport default ProfileStatuswithHooks","import React from 'react';\r\nimport style from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/preloader';\r\nimport placeholder from '../../../assets/img/user.png';\r\nimport ProfileStatuswithHooks from './ProfileStatuswithHooks'\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n    return(\r\n  \r\n        <div className = { style.profile }>\r\n          <div className = { style.user }>Ava + disc\r\n\t\t\t\t\t\t\t<h4 className ={style.user__name}>Your page</h4>\t\r\n\t\t\t\t\t\t\t<div className={style.your__page}>\r\n                <div className={style.user__photo}>\r\n\t\t\t\t\t\t\t\t<figure>\r\n                \t<img src={\r\n                    props.profile.photos.large \r\n                      ? props.profile.photos.large \r\n                      : placeholder} alt=\"avatar\" />\r\n\t\t\t\t\t\t\t\t</figure>\r\n                </div>\r\n                <div className=\"user__info\">\r\n                  <ProfileStatuswithHooks status ={props.status} updateStatus = {props.updateStatus} />\r\n                </div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n          </div>\r\n   \r\n    );\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer.js'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = (props) => {\r\n\r\n    return(\r\n      <section className = { style.profile }>\r\n        <ProfileInfo profile = {props.profile} status = {props.status} updateStatus = {props.updateStatus} />    \r\n        <MyPostsContainer  store = {props.store} />   \r\n      </section>\r\n    );\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfileThunk, getStatusThunk, updateStatusThunk } from '../../redux/profileReducer'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n   \r\n\r\n    componentDidMount() {\r\n        debugger;\r\n       let userId = this.props.match.params.userId;\r\n       if (!userId) {\r\n           userId = this.props.authorisedUserId;\r\n           if(!userId) {\r\n               this.props.history.push('/login')\r\n           }\r\n       }\r\n        this.props.getUserProfileThunk(userId);\r\n        this.props.getStatusThunk(userId)\r\n    }\r\n   \r\n    render() {\r\n        return(\r\n        <Profile {...this.props} \r\n            profile = {this.props.profile} \r\n            status = {this.props.status} \r\n            updateStatus = {this.props.updateStatusThunk}/>\r\n        );\r\n        }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.authReducer.userId,\r\n    isAuth: state.authReducer.isAuth\r\n\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfileThunk, getStatusThunk, updateStatusThunk}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}