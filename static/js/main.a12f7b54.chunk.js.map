{"version":3,"sources":["api/api.js","redux/dialogsReducer.js","redux/usersReducer.js","assets/img/loader.svg","components/Header/Header.module.css","components/Navbar/Navbar.module.css","components/Login/Login.module.css","redux/friendsReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Login/Login.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","App.jsx","index.js","components/common/Forms.jsx","components/common/preloader.jsx","utils/validators/validators.js","App.module.css","components/common/Forms.module.css","redux/profileReducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","initialState","dialogs","id","name","messages","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsersThunkCreator","page","dispatch","a","items","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","map","u","followed","filter","module","exports","friends","ava","friendsReducer","usersId","isAuth","setAuthUserData","authUserThunk","logoutThunk","authReducer","payload","initialised","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","friendsPage","usersPage","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","className","style","header","logo","serviceBar","topSearch","method","placeholder","searchBtn","login__block","btn","onClick","to","HeaderContainer","this","React","Component","connect","Navbar","nav","item","ReduxLoginForm","reduxForm","onSubmit","handleSubmit","form__field","input__right","Field","component","Input","validate","required","src","alt","CreateField","error","loginBtn","loginThunk","length","stopSubmit","_error","getCaptchaThunk","url","form__container","Music","music","cover","user","News","news","Settings","settings","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","console","initialiseThunk","addEventListener","removeEventListener","wrapper","wrapperContent","exact","path","render","fallback","Preloader","preloaderWrapper","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","ReactDOM","document","querySelector","FormControl","input","meta","child","hasError","touched","form__control","children","validator","text","olaceholder","Textarea","restProps","loader","value","maxLengthcreator","maxLength","ADD_POST","posts","like","comment","addPostActionCreator","newPostText","setStatus","getUserProfileThunk","getStatusThunk","updateStatusThunk","savePhotoThunk","photos","getState","newPost","Math","ceil","random","postId"],"mappings":"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","file":"static/js/main.a12f7b54.chunk.js","sourcesContent":["import * as axios from 'axios'\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:{'API-KEY': '9929cf51-9531-43cd-b9e4-397389514684'}\r\n});\r\n\r\n\r\nexport const userAPI = {\r\n    \r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                    .then(response => {return response.data});\r\n    },\r\n\r\n    follow(userId) {\r\n       return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n       return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n \r\n\r\nexport const profileAPI = {\r\n    \r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status } )\r\n    },\r\n\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`profile/photo`, formData,  { headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        } \r\n        })\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile )\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe= false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n   \r\n} \r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}\r\n","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\n\r\nconst initialState = {\r\n\r\n    dialogs: [{\r\n        id: 1, name: \"Max\"\r\n    },\r\n    {\r\n        id: 2, name: \"Oliver\"\r\n    },\r\n    {\r\n        id: 3, name: \"Andrew\"\r\n    },\r\n    {\r\n        id: 4, name: \"Mike\"\r\n    },\r\n    {\r\n        id: 5, name: \"Tom\"\r\n    },\r\n    {\r\n        id: 6, name: \"Miles\"\r\n    },\r\n    {\r\n        id: 7, name: \"Vika\"\r\n    },\r\n],\r\n\r\nmessages: [{\r\n        id: 1, message: \"Hello\"\r\n    },\r\n    {\r\n        id: 2, message: \"Hi\"\r\n    },\r\n    {\r\n        id: 3, message: \"Yo\"\r\n    },\r\n    {\r\n        id: 4,\r\n        message: \"How are you\"\r\n    },\r\n    {\r\n        id: 5, message: \"What's up\"\r\n    },\r\n    {\r\n        id: 6, message: \"Miles\"\r\n    },\r\n    {\r\n        id: 7, message: \"Vika\"\r\n    },\r\n]\r\n}\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6,\r\n                    message: body}]\r\n            }\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\n\r\nexport default dialogsReducer;","import { userAPI } from '../api/api';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'users/FOLLOWING_IN_PROGRESS'\r\n\r\n\r\n\r\nconst initialState = {\r\n    users: [\r\n    ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {...state, \r\n                            users: state.users.map( u => {\r\n                                if (u.id === action.userId) {\r\n                                    return {...u, \r\n                                        followed: true}\r\n                                }\r\n                                return u;\r\n                            })\r\n                }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {...state, \r\n                     users: state.users.map( u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, \r\n                            followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        \r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {...state, followingInProgress: action.isFetching \r\n                ? [...state.followingInProgress, action.userId]\r\n                : state.followingInProgress.filter(id => id !== action.userId)}\r\n        } \r\n\r\n        default: \r\n            return state;\r\n    }\r\n    \r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\n\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\n\r\nexport const toggleIsFetching = (isFetching) =>({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) =>({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    const response = await userAPI.getUsers(page, pageSize)\r\n        \r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    }\r\n};\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        const response = await apiMethod(userId)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(actionCreator( userId ));\r\n            }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n }\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess );\r\n    }\r\n\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess );\r\n        }\r\n}\r\n\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/loader.144c7166.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Hs2EL\",\"logo\":\"Header_logo__3xv7c\",\"serviceBar\":\"Header_serviceBar__PB_82\",\"topSearch\":\"Header_topSearch__-A4wJ\",\"searchBtn\":\"Header_searchBtn__mt2J7\",\"btn\":\"Header_btn__29VYW\",\"login__block\":\"Header_login__block__1sUw3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1zlGi\",\"item\":\"Navbar_item__2cd5F\",\"activeLink\":\"Navbar_activeLink__2VlGu\",\"active\":\"Navbar_active__LQPUz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__container\":\"Login_form__container__2EFcB\",\"form__field\":\"Login_form__field__2r-D5\",\"input__right\":\"Login_input__right__1Iq2c\",\"checkbox\":\"Login_checkbox__Q1wpu\",\"loginBtn\":\"Login_loginBtn__2_cpY\"};"," \r\n let initialState = {\r\n \r\n        friends: [\r\n            {\r\n                id: 1,\r\n                name: \"Max\",\r\n                ava: \"https://klike.net/uploads/posts/2019-06/1561878174_4.jpg\"\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"Oliver\",\r\n                ava: \"https://klike.net/uploads/posts/2019-06/1561878099_15.jpg\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Andrew\",\r\n                ava: \"https://klike.net/uploads/posts/2019-06/1561878174_4.jpg\"\r\n            },\r\n            {\r\n                id: 4,\r\n                name: \"Mike\",\r\n                ava: \"https://klike.net/uploads/posts/2019-06/1561878096_2.jpg\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"Tom\",\r\n                ava: \"https://www.meme-arsenal.com/memes/b1960e7d08b8a78c37bfce0dfb980651.jpg\"\r\n            },\r\n            {\r\n                id: 6,\r\n                name: \"Miles\",\r\n                ava: \"https://klike.net/uploads/posts/2019-06/1561878099_15.jpg\"\r\n            }  \r\n        ]\r\n}\r\n\r\n \r\n \r\n const friendsReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\nexport default friendsReducer","import {authAPI, securityAPI} from '../api/api'\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL';\r\n\r\nconst initialState = {\r\n    usersId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captcha: null \r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {...state, \r\n                ...action.data,\r\n                isAuth: true}\r\n        }\r\n\r\n        case GET_CAPTCHA_URL: {\r\n            return {...state, \r\n                ...action.payload}\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: { userId, email, login, isAuth }});\r\n\r\nexport const getCaptcha = (captcha) => ({type: GET_CAPTCHA_URL, data: { captcha }});\r\n\r\nexport const authUserThunk = () => async (dispatch) => {\r\n   const response = await authAPI.me();\r\n    if (response.data.resultCode ===0) {\r\n      const {id, email, login} = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }   \r\n}\r\n\r\nexport const loginThunk = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    \r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode ===0) {\r\n        dispatch(authUserThunk());\r\n    } else  {\r\n\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptcha());\r\n        }\r\n      const message = response.data.messages.length > 0? response.data.messages[0] : 'some error'\r\n      dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\n\r\nexport const getCaptchaThunk = () => async (dispatch) => {\r\n    \r\n    const response = await securityAPI.getCaptcha();\r\n    const captcha = response.data.url;\r\n    \r\n    dispatch(getCaptcha(captcha));\r\n\r\n}\r\n\r\nexport const logoutThunk = () => async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n    if (response.data.resultCode ===0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }   \r\n}\r\n\r\nexport default authReducer;","import {authUserThunk} from './authReducer'\r\n\r\nconst INITIALISED_SUCCESS = 'app/INITIALISED_SUCCESS';\r\n\r\nconst initialState = {\r\n    initialised: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS: {\r\n            return {...state, \r\n                initialised: true}\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initialisedSuccess = () => ({type:INITIALISED_SUCCESS});\r\n\r\nexport const initialiseThunk = () => (dispatch) => {\r\n    const promise = dispatch(authUserThunk());\r\n    Promise.all([promise])\r\n    .then( () => dispatch(initialisedSuccess()))\r\n     \r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport friendsReducer from './friendsReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer'\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer';\r\n\r\nconst reducers = combineReducers(\r\n    {profilePage: profileReducer, \r\n    dialogsPage: dialogsReducer, \r\n    friendsPage: friendsReducer, \r\n    usersPage: usersReducer, \r\n    authReducer: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(\r\napplyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className = {style.header}>\r\n          <div className = {style.logo}>\r\n            <span><i className=\"fas fa-power-off\"></i>nNet</span>\r\n          </div>\r\n\r\n          <div className = {style.serviceBar}>\r\n            <div className={style.topSearch}>\r\n              <form action=\"\" method=\"post\">\r\n                <input type=\"text\" placeholder = \"Search People, Groups, Pages etc\"/>\r\n                <button id = {style.searchBtn}>\r\n                  <i className=\"fas fa-search\"></i>\r\n                </button>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        <div className={style.login__block}>\r\n          {props.isAuth \r\n            ? <div> {props.login}<button className = {style.btn} onClick = {props.logoutThunk}>Logout</button></div>\r\n            : <NavLink to = {'/login'}><button className = {style.btn}>Login</button></NavLink>}\r\n        </div>\r\n      </header>\r\n    )\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logoutThunk} from '../../redux/authReducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Header {...this.props} />\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.authReducer.isAuth,\r\n  login: state.authReducer.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutThunk})(HeaderContainer);","import React from 'react';\r\nimport style from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom'\r\n\r\n\r\nfunction Navbar() {\r\n    return (\r\n      \r\n        <nav className = {style.nav}>\r\n          <ul>\r\n          <li className = {style.item}><NavLink to=\"/profile\"><i className=\"fas fa-user-circle\"></i>My profile</NavLink></li>\r\n          <li className = {style.item}><NavLink to=\"/dialogs\"><i className=\"fas fa-envelope\"></i>Dialogs</NavLink></li>\r\n          <li className = {style.item}><NavLink to=\"/friends\"><i className=\"fas fa-user-friends\"></i>Friends</NavLink></li>\r\n          <li className = {style.item}><NavLink to = \"/users\"><i className=\"fas fa-users\"></i>Find Users</NavLink></li>\r\n          <li className = {style.item}><NavLink to=\"/news\"><i className=\"fas fa-rss\"></i>News</NavLink></li>\r\n          <li className = {style.item}><NavLink to=\"/music\"><i className=\"fas fa-headphones-alt\"></i>Music</NavLink></li>\r\n          <li className = {style.item}><NavLink to =\"/settings\"><i className=\"fas fa-cogs\"></i>Settings</NavLink></li>\r\n        </ul>\r\n        </nav>\r\n    );\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input, CreateField } from '../common/Forms';\r\n\r\nimport style from './Login.module.css'\r\n\r\nimport {required} from '../../utils/validators/validators';\r\nimport { loginThunk, logoutThunk, getCaptchaThunk } from '../../redux/authReducer'\r\n\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit = {props.handleSubmit}> \r\n            <h2>Login Page</h2>\r\n            <div className={style.form__field + \" \" + style.input__right}>\r\n                <Field component= {Input} validate = {[required]} name=\"email\" id=\"login\" placeholder=\"Your email\" />\r\n            </div>\r\n            <div className={style.form__field + \" \" + style.input__right}>\r\n                <Field  component= {Input} validate = {[required]}type=\"password\" name=\"password\" id=\"pass\" placeholder=\"Password\" />\r\n            </div>\r\n            <div id=\"checkbox\" className={style.form__field}>\r\n                <label >\r\n                    <Field component= {Input} type=\"checkbox\" name=\"rememberMe\" id=\"rememberMe\" />\r\n                    Remember me on this computer\r\n                </label>\r\n            </div>\r\n\r\n            { props.captcha && <img src = {props.captcha} alt = \"captcha\"/>}\r\n\r\n            { props.captcha && CreateField ('Symbols', 'captcha', [required], Input)}\r\n\r\n            {props.error && <div>{props.error}</div>}\r\n\r\n            <button id = \"loginBtn\" className={style.form__field + \" \" + style.loginBtn} type=\"submit\">Login</button>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginThunk(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to = {'/profile'} />\r\n    }\r\n    return <div className = {style.form__container}>\r\n        <ReduxLoginForm onSubmit = {onSubmit} captcha = {props.captcha} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        captcha: state.authReducer.captcha,\r\n        isAuth: state.authReducer.isAuth}\r\n)\r\n\r\nexport default connect(mapStateToProps, {loginThunk, logoutThunk, getCaptchaThunk})(Login);\r\n","import React from 'react';\r\nimport style from './Music.module.css';\r\n\r\n\r\nfunction Music() {\r\n    return(\r\n        <section className = { style.music }>\r\n        <div className = { style.cover }></div>\r\n\r\n        <div className = { style.user }>Ava + disc</div>\r\n      </section>\r\n    );\r\n}\r\nexport default Music;","import React from 'react';\r\nimport style from './News.module.css';\r\n\r\n\r\nfunction News() {\r\n    return(\r\n        <section className = { style.news }>\r\n        <div className = { style.cover }></div>\r\n\r\n        <div className = { style.user }>Ava + disc</div>\r\n      </section>\r\n    );\r\n}\r\nexport default News;","import React from 'react';\r\nimport style from './Settings.module.css';\r\n\r\n\r\nfunction Settings() {\r\n    return(\r\n        <section className = { style.settings }>\r\n        <div className = { style.cover }></div>\r\n\r\n        <div className = { style.user }>Ava + disc</div>\r\n      </section>\r\n    );\r\n}\r\nexport default Settings;","import React, { Suspense } from 'react';\nimport {HashRouter, Route, withRouter, Switch, Redirect} from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport { compose } from 'redux';\nimport store from './redux/reduxStore';\n\nimport style from './App.module.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport Login from './components/Login/Login'\nimport Music from './components/Music/Music';\nimport News from './components/News/News'\nimport Settings from './components/Settings/Settings';\n\nimport {initialiseThunk} from './redux/appReducer';\nimport Preloader from './components/common/preloader';\n\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy( () => import('./components/Users/UsersContainer'));\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer'));\n\n\n\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    debugger;\n    console.error(promiseRejectionEvent);\n  }\n  componentDidMount() {\n    this.props.initialiseThunk();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n  }\n\n  render() {\n    if(!this.props.initialised) {\n      return <div className = {style.preloaderWrapper}><Preloader /></div>\n    }\n    return ( \n      <div className={ style.wrapper }>\n        <HeaderContainer />\n        <Navbar />\n        <main className={ style.wrapperContent }>\n          <Switch>\n            <Route exact path = '/' render={ () => {return <Redirect to='/profile' />}} />\n            <Route path = '/profile/:userId?' render={ () => {return <Suspense fallback = {Preloader}>\n              <ProfileContainer />\n            </Suspense> } } />\n            <Route path = '/dialogs' render={ () => {return <Suspense fallback = {Preloader}>\n              <DialogsContainer />\n            </Suspense> }} />\n            <Route path = '/login' render = {() => <Login /> } />\n            \n            <Route path = '/users' render = { () => {return <Suspense fallback = {Preloader}>\n              <UsersContainer />\n            </Suspense> } } />\n            <Route path = '/music' render ={ () => <Music /> } />\n            <Route path = '/news' render ={ () => <News /> } />\n            <Route path = '/settings' render ={ () => <Settings /> } />\n            </Switch>\n        </main> \n      </div> \n    );\n  }\n} \nconst mapStateToProps = (state) => {\nreturn {\n  initialised: state.app.initialised}\n}\nconst AppContainer =  compose(\n\n  withRouter,\n  connect(mapStateToProps, {initialiseThunk}))\n  (App);\n\n\nconst MainApp = (props) => {\n  return  <HashRouter basename={process.env.PUBLIC_URL}>\n  <Provider store = {store}>\n      <AppContainer />\n  </Provider>\n</HashRouter>\n}\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './normalize.css';\nimport MainApp from './App';\n\n\nReactDOM.render(\n   <MainApp />,\n    document.querySelector('#root')\n   );\n\n\n\n\n","import React from 'react';\r\nimport style from './Forms.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\n\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError =  meta.touched && meta.error;\r\n    return (\r\n        <div className = {style.form__control + \" \" + (hasError? style.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validator, component, props = {}, text = '') => {\r\n    return <div>\r\n        <Field olaceholder = {placeholder} \r\n        name = {name} \r\n        validator = {validator}\r\n        component = {component} \r\n        {...props} /> {text}\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props} >\r\n        <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps} />\r\n    </FormControl>\r\n}","import React from 'react';\r\nimport loader from \"../../assets/img/loader.svg\"\r\n\r\nconst Preloader = (props) => {\r\n    return <>\r\n        <img src={loader} alt = \"spinner\" />\r\n\r\n    </>\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\nexport const maxLengthcreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2fW0f\",\"wrapperContent\":\"App_wrapperContent__2NBCt\",\"preloaderWrapper\":\"App_preloaderWrapper__1gvDF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"Forms_form__control__2r_U-\",\"error\":\"Forms_error__2ywVw\"};","import { userAPI, profileAPI } from '../api/api';\r\n\r\nimport { stopSubmit } from 'redux-form';\r\n\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst SET_USER_PHOTO = 'profile/SET_USER_PHOTO';\r\n\r\nconst initialState = {\r\n    posts: [{\r\n        id: 1,\r\n        message: \"Hi! How are you?\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n    {\r\n        id: 2,\r\n        message: \"It's my first page\",\r\n        like: 40,\r\n        comment: 1\r\n    },\r\n    {\r\n        id: 3,\r\n        message: \"Some text\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n    {\r\n        id: 4,\r\n        message: \"Mike\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n    {\r\n        id: 5,\r\n        message: \"Tom\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n    {\r\n        id: 6,\r\n        message: \"Miles\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n    {\r\n        id: 7,\r\n        message: \"Vika\",\r\n        like: 12,\r\n        comment: 9999\r\n    },\r\n],\r\n\r\nprofile: null,\r\nstatus: ''\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: Math.ceil(Math.random() * 100)+ 8,\r\n                message: action.newPostText,\r\n                like: 12,\r\n                comment: 9999,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\"\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return{\r\n                ...state,\r\n                posts: state.posts.filter( post => post.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return{\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_USER_PHOTO: {\r\n            return {\r\n                ...state,\r\n               profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n\r\n        default: \r\n            return state;\r\n    }\r\n    \r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\n\r\nexport const deletePostActionCreator = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE, profile\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS, status\r\n});\r\n\r\nexport const setUserPhoto = (photos) => ({\r\n    type: SET_USER_PHOTO, photos\r\n});\r\n\r\n\r\nexport const getUserProfileThunk = (userId) => \r\n    async (dispatch) => {\r\n    const response =  await userAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n};\r\n\r\n\r\nexport const getStatusThunk = (userId) => async (dispatch) => {\r\n  \r\n    const response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data));\r\n\r\n};\r\n\r\nexport const updateStatusThunk = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));}\r\n        \r\n}\r\n\r\nexport const savePhotoThunk = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setUserPhoto(response.data.data.photos));}\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().authReducer.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId));\r\n    } else {\r\n        const message = response.data.messages.length > 0? response.data.messages[0] : 'some error';\r\n        dispatch(stopSubmit(\"editProfile\", {_error: message}))\r\n      }  \r\n\r\n};\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}